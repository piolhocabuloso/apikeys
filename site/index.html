<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Painel de Keys</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="style.css" rel="stylesheet" />
  <script src="script.js" defer></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>

<body>
  <div class="container py-5">
    <div class="card shadow-sm">
      <div class="card-body">
        <h2 class="card-title mb-4">Painel de Keys</h2>

        <div class="input-row mb-4">
          <input id="keyInput" class="form-control" placeholder="Digite a key" />
        </div>





        <!-- Modal de detalhes da key -->
        <div id="modalKeyInfo" class="modal-overlay" style="display:none;">
          <div class="modal-content p-4 rounded shadow-sm" style="max-width: 400px;">
            <h5 class="mb-3">Informações da Key</h5>
            <p><strong>Key:</strong> <span id="infoKey"></span></p>
            <p><strong>Criada em:</strong> <span id="infoCreatedAt"></span></p>
            <p><strong>Usada:</strong> <span id="infoUsed"></span></p>
            <p><strong>Usuário:</strong> <span id="infoUser"></span></p>
            <p><strong>Expira em:</strong> <span id="infoExpiresAt"></span></p>
            <div class="d-flex justify-content-end">
              <button id="btnCloseKeyInfo" class="btn btn-outline-primary">Fechar</button>
            </div>
          </div>
        </div>

        <!-- Modal de aviso simples -->
        <div id="modalAviso" class="modal-overlay" style="display:none;">
          <div class="modal-content p-4 rounded shadow-sm">
            <p id="modalAvisoMsg"></p>
            <div class="d-flex justify-content-end gap-2">
              <button id="btnCloseAviso" class="btn btn-primary">Fechar</button>
            </div>
          </div>
        </div>

        <!-- Modal de confirmação -->
        <div id="modalConfirm" class="modal-overlay" style="display:none;">
          <div class="modal-content p-4 rounded shadow-sm">
            <h5 class="mb-3">Confirmação</h5>
            <p id="modalConfirmMessage"></p>
            <div class="d-flex justify-content-end gap-2">
              <button id="modalConfirmCancel" class="btn btn-outline-secondary">Cancelar</button>
              <button id="modalConfirmOk" class="btn btn-danger">Confirmar</button>
            </div>
          </div>
        </div>


        <!-- Modal para confirmação de criação de key -->
        <div id="modalKeyCriada" class="modal-overlay" style="display:none;">
          <div class="modal-content p-4 rounded shadow-sm">
            <h5 class="mb-3">Key Criada com Sucesso!</h5>
            <p>A key foi criada com sucesso.</p>
            <div class="d-flex justify-content-end gap-2">
              <button id="btnCloseKeyCriada" class="btn btn-primary">Fechar</button>
            </div>
          </div>
        </div>

        <!-- Modal para marcar key como usada -->
        <div id="modalMarkUsed" class="modal-overlay" style="display:none;">
          <div class="modal-content p-4 rounded shadow-sm">
            <h5 class="mb-3">Marcar Key como Usada</h5>
            <label for="markUsedKeyInput" class="form-label">Key:</label>
            <input id="markUsedKeyInput" class="form-control mb-3" placeholder="Digite a key" />

            <label for="markUsedUserInput" class="form-label">Usuário (opcional):</label>
            <input id="markUsedUserInput" class="form-control mb-4" placeholder="Digite o nome do usuário" />

            <div class="d-flex justify-content-end gap-2">
              <button id="btnCancelMarkUsed" class="btn btn-outline-secondary">Cancelar</button>
              <button id="btnConfirmMarkUsed" class="btn btn-success">Confirmar</button>
            </div>
          </div>
        </div>

        <!-- Modal para atualizar key -->
        <div id="modalUpdateKey" class="modal-overlay" style="display:none;">
          <div class="modal-content p-4 rounded shadow-sm">
            <h5 class="mb-3">Atualizar Key</h5>
            <label for="currentKeyInput" class="form-label">Key atual:</label>
            <input id="currentKeyInput" class="form-control mb-3" placeholder="Digite a key atual" />

            <label for="newKeyInput" class="form-label">Nova key:</label>
            <input id="newKeyInput" class="form-control mb-4" placeholder="Digite a nova key" />

            <div class="d-flex justify-content-end gap-2">
              <button id="btnCancelUpdate" class="btn btn-outline-secondary">Cancelar</button>
              <button id="btnConfirmUpdate" class="btn btn-primary">Atualizar</button>
            </div>
          </div>
        </div>
        <!-- Modal para criar múltiplas keys -->
        <div id="modalCriarMultiplasKeys" class="modal-overlay" style="display:none;">
          <div class="modal-content p-4 rounded shadow-sm">
            <h5 class="mb-3">Criar Múltiplas Keys</h5>
            <label for="inputQuantidadeKeys" class="form-label">Quantidade de keys:</label>
            <input id="inputQuantidadeKeys" type="number" min="1" max="100" class="form-control mb-4"
              placeholder="Digite a quantidade (ex: 5)" />

            <div class="d-flex justify-content-end gap-2">
              <button id="btnCancelCriarMultiplas" class="btn btn-outline-secondary">Cancelar</button>
              <button id="btnConfirmCriarMultiplas" class="btn btn-primary">Criar</button>
            </div>
          </div>
        </div>

        <!-- Modal para criar key temporária -->
        <div id="modalTempKey" class="modal-overlay" style="display:none;">
          <div class="modal-content p-4 rounded shadow-sm">
            <h5 class="mb-3">Criar Key Temporária</h5>
            <label for="tempKeyInput" class="form-label">Key (vazio para gerar aleatória):</label>
            <input id="tempKeyInput" class="form-control mb-3" placeholder="Digite a key" />

            <label for="expiryDate" class="form-label">Data e Hora de Expiração:</label>
            <input id="expiryDate" type="datetime-local" class="form-control mb-4" />

            <div class="d-flex justify-content-end gap-2">
              <button id="btnCancelTemp" class="btn btn-outline-secondary">Cancelar</button>
              <button id="btnConfirmTemp" class="btn btn-primary">Criar</button>
            </div>
          </div>
        </div>

        <div class="buttons-row mb-4">

          <button class="btn btn-primary" id="btnOpenCriarMultiplas">
            <i class="fa-solid fa-plus"></i>
          </button>
          

          <button class="btn btn-outline-primary" id="btnCriarTemp">
            <i class="fa-solid fa-hourglass-half"></i> Temporária
          </button>
          <button class="btn btn-outline-primary" id="btnOpenUpdateModal">
            <i class="fa-solid fa-pen"></i> Editar
          </button>

          <button class="btn btn-outline-success" id="btnOpenMarkUsedModal">
            <i class="fa-solid fa-check-double"></i> Marcar como usada
          </button>

          <button class="btn btn-outline-info" onclick="exportarKeys()">
            <i class="fa-solid fa-file-export"></i> Exportar TXT
          </button>
          <button class="btn btn-outline-info" onclick="carregarLista()">
            <i class="fa-solid fa-arrows-rotate"></i> Atualizar lista
          </button>
          <button class="btn btn-outline-danger" onclick="apagarKey()">
            <i class="fa-solid fa-trash"></i>
          </button>
        </div>

        <h5 class="keys-header" style="cursor:pointer;">
          Lista de keys
          <i id="copyIcon" class="fa-solid fa-copy" title="Copiar keys"></i>
        </h5>


        <ul id="keysList" class="list-group shadow-sm"></ul>
        <div style="display: flex; justify-content: center; gap: 10px; margin-top: 10px;">
          <button id="btnVerUsadas" class="btn btn-outline-secondary mt-2">Ver Keys Usadas</button>
          <button id="btnVerTodas" class="btn btn-outline-secondary mt-2" style="display:none;">Ver Todas as
            Keys</button>
        </div>



      </div>
    </div>
  </div>
</body>

</html>